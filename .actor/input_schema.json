{
    "title": "TMS Order Executor",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "tmsUsername": {
            "title": "TMS Username",
            "type": "string",
            "description": "Your TMS login username",
            "editor": "textfield",
            "isSecret": true
        },
        "tmsPassword": {
            "title": "TMS Password",
            "type": "string",
            "description": "Your TMS login password",
            "editor": "textfield",
            "isSecret": true
        },
        "geminiApiKey": {
            "title": "Gemini API Key",
            "type": "string",
            "description": "API Key for Google Gemini (for solving captchas)",
            "editor": "textfield",
            "isSecret": true
        },
        "tmsUrl": {
            "title": "TMS Broker URL",
            "type": "string",
            "description": "Full URL of the broker (e.g. https://tms58.nepsetms.com.np)",
            "editor": "textfield",
            "example": "https://tms58.nepsetms.com.np"
        },
        "action": {
            "title": "Action",
            "type": "string",
            "description": "What operation to perform?",
            "editor": "select",
            "default": "CHECK_ORDERS",
            "enum": [
                "BUY",
                "SELL",
                "CHECK_ORDERS"
            ]
        },
        "symbol": {
            "title": "Stock Symbol",
            "type": "string",
            "description": "The stock symbol to buy (Required for BUY action)",
            "editor": "textfield"
        },
        "buyPrice": {
            "title": "Buy Price",
            "type": "integer",
            "description": "Price per unit to buy at",
            "editor": "number"
        },
        "buyQuantity": {
            "title": "Buy Quantity",
            "type": "integer",
            "description": "Number of units to buy",
            "editor": "number"
        },
        "sellPrice": {
            "title": "Sell Price",
            "type": "integer",
            "description": "Price per unit to sell at",
            "editor": "number"
        },
        "sellQuantity": {
            "title": "Sell Quantity",
            "type": "integer",
            "description": "Number of units to sell",
            "editor": "number"
        },
        "orders": {
            "title": "Batch Orders",
            "type": "array",
            "description": "List of orders to execute in batch. Example: [{'symbol':'NICA', 'qty':10, 'price':400, 'side':'BUY'}]",
            "editor": "json",
            "items": {
                "type": "object",
                "properties": {
                    "symbol": {
                        "type": "string"
                    },
                    "qty": {
                        "type": "integer"
                    },
                    "price": {
                        "type": "number"
                    },
                    "side": {
                        "type": "string",
                        "enum": [
                            "BUY",
                            "SELL"
                        ]
                    }
                }
            }
        },
        "checkOrders": {
            "title": "Check Orders After Buy?",
            "type": "boolean",
            "description": "If true, scrapes Today's Order Book after placing the order to verify.",
            "default": true
        },
        "uploadToS3": {
            "title": "Upload to Supabase S3?",
            "type": "boolean",
            "description": "If enabled, uploads the JSON result to Supabase Storage",
            "default": true
        },
        "supabaseEndpoint": {
            "title": "Supabase S3 Endpoint",
            "type": "string",
            "description": "e.g. https://<project-id>.supabase.co/storage/v1/s3",
            "editor": "textfield",
            "isSecret": true
        },
        "supabaseRegion": {
            "title": "Supabase S3 Region",
            "type": "string",
            "description": "Supabase S3 region",
            "editor": "textfield",
            "default": "ap-southeast-1"
        },
        "supabaseAccessKey": {
            "title": "Supabase Access Key",
            "type": "string",
            "description": "Supabase S3 access key ID",
            "editor": "textfield",
            "isSecret": true
        },
        "supabaseSecretKey": {
            "title": "Supabase Secret Key",
            "type": "string",
            "description": "Supabase S3 secret access key",
            "editor": "textfield",
            "isSecret": true
        },
        "supabaseBucketName": {
            "title": "Supabase Bucket Name",
            "type": "string",
            "description": "Target bucket name in Supabase",
            "editor": "textfield",
            "default": "investment_management"
        }
    },
    "required": [
        "tmsUrl",
        "tmsUsername",
        "tmsPassword",
        "geminiApiKey",
        "action"
    ]
}
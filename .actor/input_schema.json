{
    "title": "TMS Order Executor",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "tmsUsername": {
            "title": "TMS Username",
            "type": "string",
            "description": "Your TMS login username",
            "editor": "textfield",
            "isSecret": true
        },
        "tmsPassword": {
            "title": "TMS Password",
            "type": "string",
            "description": "Your TMS login password",
            "editor": "textfield",
            "isSecret": true
        },
        "geminiApiKey": {
            "title": "Gemini API Key",
            "type": "string",
            "description": "API Key for Google Gemini (for solving captchas)",
            "editor": "textfield",
            "isSecret": true
        },
        "tmsUrl": {
            "title": "TMS Broker URL",
            "type": "string",
            "description": "Full URL of the broker (e.g. https://tms58.nepsetms.com.np)",
            "editor": "textfield",
            "example": "https://tms58.nepsetms.com.np"
        },
        "action": {
            "title": "Action",
            "type": "string",
            "description": "What operation to perform?",
            "editor": "select",
            "default": "BATCH",
            "enum": [
                "BUY",
                "SELL",
                "BATCH"
            ]
        },
        "symbol": {
            "title": "Stock Symbol (Single Mode)",
            "type": "string",
            "description": "Stock Symbol (Required for BUY/SELL actions)",
            "editor": "textfield"
        },
        "price": {
            "title": "Price",
            "type": "integer",
            "description": "Price per unit",
            "editor": "number"
        },
        "quantity": {
            "title": "Quantity",
            "type": "integer",
            "description": "Number of units",
            "editor": "number"
        },
        "orders": {
            "title": "Batch Orders List",
            "type": "array",
            "description": "List of orders to execute in BATCH mode.",
            "editor": "json",
            "prefill": [
                {
                    "symbol": "NICA",
                    "qty": 10,
                    "price": 450,
                    "side": "BUY",
                    "instrument": "EQ"
                }
            ],
            "items": {
                "type": "object",
                "properties": {
                    "symbol": {
                        "title": "Symbol",
                        "type": "string",
                        "description": "Stock Symbol (e.g. NICA)",
                        "editor": "textfield"
                    },
                    "qty": {
                        "title": "Quantity",
                        "type": "integer",
                        "description": "Number of units",
                        "editor": "number"
                    },
                    "price": {
                        "title": "Price",
                        "type": "number",
                        "description": "Price per unit",
                        "editor": "number"
                    },
                    "side": {
                        "title": "Side (BUY/SELL)",
                        "type": "string",
                        "description": "Action to perform",
                        "editor": "select",
                        "enum": [
                            "BUY",
                            "SELL"
                        ]
                    },
                    "instrument": {
                        "title": "Instrument",
                        "type": "string",
                        "description": "Instrument Type (EQ, MUTUAL_FUND, etc.)",
                        "editor": "textfield",
                        "default": "EQ"
                    }
                }
            }
        },
        "checkOrders": {
            "title": "Verify Orders (Global)?",
            "type": "boolean",
            "description": "If true, scrapes order book after execution. Applies to BOTH Single and Batch modes.",
            "default": true
        }
    },
    "required": [
        "tmsUrl",
        "tmsUsername",
        "tmsPassword",
        "geminiApiKey",
        "action"
    ]
}